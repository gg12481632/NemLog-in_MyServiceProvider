
PRECONDITIONS:
(1) En MVC web application er blevet udvided med NemLog-in ved brug af OIOSAML frameworket.
See WIKI: Udvid en ASP.Net Web applikation (dotnet 4.7.2+) med NemLog-in ved brug af OIOSAML frameworket.

(2) Envidere er web-applikationen installeret under IIS i Azure.
See WIKI: Installer en ASP.Net Web applikation (dotnet 4.7.2+) med NemLog-in under IIS

(3) Og endelig er den tilhørende Demo Identity Provider fra OIOSAML installeret under IIS i Azure.
See WIKI: Installer Demo Identity Provider fra OIOSAML under IIS

(4) Enable google developer tools (Ctrl-shift-I)

ACTION: 
Gå til adressen
https://sp.anysoft.dk/

RESULT:
MyServiceProvider test applikationen vises nu

ACTION: 
Vælg Login menu'en

RESULT:
From google developer tools
Request URL: https://sp.anysoft.dk/Home/Login

Response Headers:
status 302: redirect
location: /login.ashx?ReturnUrl=/

Request URL: https://sp.anysoft.dk/login.ashx?ReturnUrl=/

Response Headers:
status 302: redirect
location: https://idp.anysoft.dk:20001/Signon.ashx?SAMLRequest=lZJfa8IwFMXfB%2FsOIe82SVuthlaR%2BSJsMHTsYW%2BxSWdYvdHeVNy3X%2BqfTQYT9pqTc87vXm4%2BOWxqsjcNWgcFFRGnk%2FH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2FlIf8iYcy7Y0r6Dg0jh%2BtBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2FLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2FWdC5g3%2FaamugNIuwosaWnXaWrsSbNN%2Bfzonsr8ic%2FcB2d8B%2BHcL4Cw%3D%3D&SigAlg=http%3A%2F%2Fwww.w3.org%2F2001%2F04%2Fxmldsig-more%23rsa-sha512&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d

Request URL: https://idp.anysoft.dk:20001/Signon.ashx
?SAMLRequest=lZJfa8IwFMXfB%2FsOIe82SVuthlaR%2BSJsMHTsYW%2BxSWdYvdHeVNy3X%2BqfTQYT9pqTc87vXm4%2BOWxqsjcNWgcFFRGnk%2FH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2FlIf8iYcy7Y0r6Dg0jh%2BtBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2FLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2FWdC5g3%2FaamugNIuwosaWnXaWrsSbNN%2Bfzonsr8ic%2FcB2d8B%2BHcL4Cw%3D%3D
&SigAlg=http%3A%2F%2Fwww.w3.org%2F2001%2F04%2Fxmldsig-more%23rsa-sha512
&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d

DECIPRERING: TBD

ACTION:
Enter UserName=Lene and Password=Test1234 and press enter.

RESULT:
curl 'https://idp.anysoft.dk:20001/SignonForm.aspx?SAMLRequest=lZJfa8IwFMXfB%2fsOIe82SVuthlaR%2bSJsMHTsYW%2bxSWdYvdHeVNy3X%2bqfTQYT9pqTc87vXm4%2bOWxqsjcNWgcFFRGnk%2fH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2flIf8iYcy7Y0r6Dg0jh%2btBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2fLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2fWdC5g3%2faamugNIuwosaWnXaWrsSbNN%2bfzonsr8ic%2fcB2d8B%2bHcL4Cw%3d%3d&SigAlg=http%3a%2f%2fwww.w3.org%2f2001%2f04%2fxmldsig-more%23rsa-sha512&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d' \
  -H 'authority: idp.anysoft.dk:20001' \
  -H 'cache-control: max-age=0' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'origin: https://idp.anysoft.dk:20001' \
  -H 'content-type: application/x-www-form-urlencoded' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9' \
  -H 'sec-fetch-site: same-origin' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-user: ?1' \
  -H 'sec-fetch-dest: document' \
  -H 'referer: https://idp.anysoft.dk:20001/Signon.ashx?SAMLRequest=lZJfa8IwFMXfB%2FsOIe82SVuthlaR%2BSJsMHTsYW%2BxSWdYvdHeVNy3X%2BqfTQYT9pqTc87vXm4%2BOWxqsjcNWgcFFRGnk%2FH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2FlIf8iYcy7Y0r6Dg0jh%2BtBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2FLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2FWdC5g3%2FaamugNIuwosaWnXaWrsSbNN%2Bfzonsr8ic%2FcB2d8B%2BHcL4Cw%3D%3D&SigAlg=http%3A%2F%2Fwww.w3.org%2F2001%2F04%2Fxmldsig-more%23rsa-sha512&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H 'cookie: ASP.NET_SessionId=wpkket52min1ae0r3udhqd3l' \
  --data-raw '__VIEWSTATE=%2FwEPDwUJNDA1MTE3ODYwZGSkgnwqoPiH1Q9b4Of4PY3hUIK8w%2BX4H%2BOqfnoLWUVwVw%3D%3D&__VIEWSTATEGENERATOR=FD3E86D8&ctl00%24ContentPlaceHolder1%24UsernameTextbox=Lene&ctl00%24ContentPlaceHolder1%24PasswordTestbox=Test1234&ctl00%24ContentPlaceHolder1%24ctl00=Login' \
  --compressed
 
Fra browseren POSTes først en SignonForm til IDP'en og dernæst POSTes et request til https://sp.anysoft.dk/login.ashx som resulterer i en redirect tilbage til sp.anysoft.dk
(lidt mystisk)

curl 'https://sp.anysoft.dk/login.ashx' \
  -H 'authority: sp.anysoft.dk' \
  -H 'cache-control: max-age=0' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'origin: https://idp.anysoft.dk:20001' \
  -H 'content-type: application/x-www-form-urlencoded' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9' \
  -H 'sec-fetch-site: same-site' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-dest: document' \
  -H 'referer: https://idp.anysoft.dk:20001/SignonForm.aspx?SAMLRequest=lZJfa8IwFMXfB%2fsOIe82SVuthlaR%2bSJsMHTsYW%2bxSWdYvdHeVNy3X%2bqfTQYT9pqTc87vXm4%2bOWxqsjcNWgcFFRGnk%2fH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2flIf8iYcy7Y0r6Dg0jh%2btBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2fLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2fWdC5g3%2faamugNIuwosaWnXaWrsSbNN%2bfzonsr8ic%2fcB2d8B%2bHcL4Cw%3d%3d&SigAlg=http%3a%2f%2fwww.w3.org%2f2001%2f04%2fxmldsig-more%23rsa-sha512&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H 'cookie: oiosamlSession=958c1f80-b0bc-44da-9e8c-bf4aa580f3ac' \
  --data-raw 'SAMLResponse=PD94bWwgdmVyc2lvbj0iMS4wIj8%2BDQo8cTE6UmVzcG9uc2UgSW5SZXNwb25zZVRvPSJpZDc3NjQ1M2NkMTkyZTRkNDA4ZDZhNDYxM2FiZGQwYmVmIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9zcC5hbnlzb2Z0LmRrL2xvZ2luLmFzaHgiIHhtbG5zOnExPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiPg0KICA8cTE6U3RhdHVzPg0KICAgIDxxMTpTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiIC8%2BDQogIDwvcTE6U3RhdHVzPg0KICA8QXNzZXJ0aW9uIFZlcnNpb249IjIuMCIgSUQ9ImlkNWRiODY4NTEyZjkxNGE2NGFiNzM3MDAxMGRiZTFlYjMiIElzc3VlSW5zdGFudD0iMjAyMC0wNy0xOVQyMToxNzoyMS43Mjk0Nzk5WiIgeG1sbnM9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iPg0KICAgIDxJc3N1ZXI%2BaHR0cHM6Ly9pZHAuYW55c29mdC5kazoyMDAwMS88L0lzc3Vlcj48U2lnbmF0dXJlIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj48U2lnbmVkSW5mbz48Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgLz48U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIgLz48UmVmZXJlbmNlIFVSST0iI2lkNWRiODY4NTEyZjkxNGE2NGFiNzM3MDAxMGRiZTFlYjMiPjxUcmFuc2Zvcm1zPjxUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIgLz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIiAvPjwvVHJhbnNmb3Jtcz48RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2IiAvPjxEaWdlc3RWYWx1ZT45U29veTVDT0I0ZnVKdGFBRG5UMzB3YWtacDR1MVNYclhld0ZZMVlRVmd3PTwvRGlnZXN0VmFsdWU%2BPC9SZWZlcmVuY2U%2BPC9TaWduZWRJbmZvPjxTaWduYXR1cmVWYWx1ZT5qdEplK1lhZnlsZXJvV1F6Zjdxdndha001UVBzNnhXdmk0N1JValVhMmNPWlhCQm42TEUzNUNaZUVMcDM1VWpZWGxOYVQ5dEJPeU1DM01jd1ZCdHhGNXd4NVN5SS9XNmk1SGo2dC9aQ0xkWGhqcGRmQ3l5d05JUGQ3MU9ENVNWcE93aGZ2UDFoUHc4MTRqL2hlczArV1lMRFJRREhpb2NWeGVHWG9QZkRNbkEzWHhNMkR3RDNkNENSd29rT3hvRnBCTlkzM1FnVnhkUHREanJxOGVXU2tQeDhXZlV0R2hBZUR2M3lraDhSaXVUZTgrMkRFUmZHcmgybWFaajdHWnQyT2pLc3VJcG5OV2hnbnl2MXJINEYyYlpoZENKbGFzMEJxRjg0YkRoVk9ZVkpMQ3J2R1Z6d3p2N1QxZTZaVEliVlNjZEZxNFVHWHF2ODZmQml4NzQ5MlE9PTwvU2lnbmF0dXJlVmFsdWU%2BPEtleUluZm8%2BPFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU%2BTUlJREdEQ0NBZ0NnQXdJQkFnSVFZR0hvam5BWmdxNUJOa0g0WGNrRmRqQU5CZ2txaGtpRzl3MEJBUVVGQURBZk1SMHdHd1lEVlFRRERCUnZhVzl6WVcxc0lIUmxjM1FnWkdWdGIybGtjREFlRncweE56QTRNREl3T1RFek16aGFGdzB5T1RFeU16RXlNakF3TURCYU1COHhIVEFiQmdOVkJBTU1GRzlwYjNOaGJXd2dkR1Z6ZENCa1pXMXZhV1J3TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFyOXRMOVZOc2ZuUlg2R1lSd0txdDBaeE42NmtMd3kzWUVzejViS1JvTHBQZFhtZHZZaCs0ckM0VTRKdmdPaEh1VmJRVWFidWFXVXFBcmFhVzNEbGdqZ0Q1T0xNTlVaUkNSaDdEbkpERWF3MDhGeHBDUDk1TDFUTFROWkx4aXUyYXpreTI0cnhxQ3B4U3hobU4vT20vYVNYUWtvVXYrVE0yTzMvcjRTOThDNzM4Q3EvQVBOZUVZcmM1OTFJd3V5d1lMYldRSnlHUmZ0elVOUHNTZkZKcjFFdC9EVkI4VTZvNkUyL2xwVjZDc0dobkVySm9aZjNyajRDNUZvcm9XcGg1cy9GZkFDMExyZ1BJR2hSUHhIclJJNERidFFqMVovQTgySDRYKzl4UjFvUGdXY0VCcU5iWGhuLzZvTk9rQVNhVkU2eHhOTDk1WUQ0bzgyd1hhc2NYSlFJREFRQUJvMUF3VGpBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0dBUVVGQndNQk1CMEdBMVVkRGdRV0JCU0l1VDF0M1hxTVNJdkprRkRKQlBVSDJWWmw1VEFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBbWVkd1dHY3EwOFRyOEl2UVQ0ZDU5MzRwRUFiRzg5ZFRkWlB6SHE0cEJzSWt4QWxaUXBxMkZwS3doeEkyajc3MHo1cm9SSzJrUk9FYWF2VFh3Ri9VN0xkVUdRTW9RRkh1MTUvYmlOdHdWdWlDdkprelVvSXBiS2FuQ0dTc2tZd2h2UTBKV3hLcm5TcUlsM3pKdlZXZUJMUnJ2YklWQ3hJMVgzN0FDa2pXNUo5aWpPaDNNYS94ZzcvdkZncHZzMVdiWnhET0xqNWgyYUg2NnFnL2ZlT2ZsT0pEdEUrU3NBeW1GUDhzSktUK3JrVTRLcHpubDhic2Q2S29ycHR4S0wrVXdyM05QVmJIaFMxZGZBQ2Z1aXpFaFl5N0phNjFaNllDM0NUYS9wRms1V3Rwd28yMVdNRk91N2QzWFNkWTVYSkU4dW1QZzZaWmY2L2ZvbHo1M003VUZnPT08L1g1MDlDZXJ0aWZpY2F0ZT48L1g1MDlEYXRhPjwvS2V5SW5mbz48L1NpZ25hdHVyZT4NCiAgICA8U3ViamVjdD4NCiAgICAgIDxOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ij5QUElELUZERkZFOEYxLUQ5MkMtNDgzOC1CNDZELUIzREQ1NThFNzAwRTwvTmFtZUlEPg0KICAgICAgPFN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj4NCiAgICAgICAgPFN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAyMC0wNy0xOVQyMjowNzoyMS43Mjk0Nzk5WiIgUmVjaXBpZW50PSJodHRwczovL3NhbWwtc3AuYW55c29mdC5kayIgLz4NCiAgICAgIDwvU3ViamVjdENvbmZpcm1hdGlvbj4NCiAgICA8L1N1YmplY3Q%2BDQogICAgPENvbmRpdGlvbnMgTm90T25PckFmdGVyPSIyMDIwLTA3LTE5VDIyOjA3OjIxLjcyOTQ3OTlaIj4NCiAgICAgIDxBdWRpZW5jZVJlc3RyaWN0aW9uPg0KICAgICAgICA8QXVkaWVuY2U%2BaHR0cHM6Ly9zYW1sLXNwLmFueXNvZnQuZGs8L0F1ZGllbmNlPg0KICAgICAgPC9BdWRpZW5jZVJlc3RyaWN0aW9uPg0KICAgIDwvQ29uZGl0aW9ucz4NCiAgICA8QXV0aG5TdGF0ZW1lbnQgQXV0aG5JbnN0YW50PSIyMDIwLTA3LTE5VDIxOjA3OjIxLjcyOTQ3OTlaIiBTZXNzaW9uSW5kZXg9IjExNDQ0OTUyOTgiPg0KICAgICAgPEF1dGhuQ29udGV4dD4NCiAgICAgICAgPEF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlg1MDk8L0F1dGhuQ29udGV4dENsYXNzUmVmPg0KICAgICAgPC9BdXRobkNvbnRleHQ%2BDQogICAgPC9BdXRoblN0YXRlbWVudD4NCiAgICA8QXR0cmlidXRlU3RhdGVtZW50Pg0KICAgICAgPEF0dHJpYnV0ZSBOYW1lPSJ1cm46Rmlyc3ROYW1lIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPEF0dHJpYnV0ZVZhbHVlPkxlbmU8L0F0dHJpYnV0ZVZhbHVlPg0KICAgICAgPC9BdHRyaWJ1dGU%2BDQogICAgICA8QXR0cmlidXRlIE5hbWU9InVybjpMYXN0TmFtZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2BDQogICAgICAgIDxBdHRyaWJ1dGVWYWx1ZT5IYW5zZW48L0F0dHJpYnV0ZVZhbHVlPg0KICAgICAgPC9BdHRyaWJ1dGU%2BDQogICAgICA8QXR0cmlidXRlIE5hbWU9InVybjpBZ2UiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6YmFzaWMiPg0KICAgICAgICA8QXR0cmlidXRlVmFsdWU%2BMzI8L0F0dHJpYnV0ZVZhbHVlPg0KICAgICAgPC9BdHRyaWJ1dGU%2BDQogICAgICA8QXR0cmlidXRlIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMyIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2BDQogICAgICAgIDxBdHRyaWJ1dGVWYWx1ZT5sZW5lQGNvbXBhbnkuZGs8L0F0dHJpYnV0ZVZhbHVlPg0KICAgICAgPC9BdHRyaWJ1dGU%2BDQogICAgICA8QXR0cmlidXRlIE5hbWU9InVybjpkazpjb21wYW55OmF0dHJpYnV0ZTpSb2xlIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPEF0dHJpYnV0ZVZhbHVlPk1lZGFyYmVqZGVyPC9BdHRyaWJ1dGVWYWx1ZT4NCiAgICAgIDwvQXR0cmlidXRlPg0KICAgICAgPEF0dHJpYnV0ZSBOYW1lPSJ1cm46ZGs6Y29tcGFueTphdHRyaWJ1dGU6Um9sZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI%2BDQogICAgICAgIDxBdHRyaWJ1dGVWYWx1ZT5VZHZpa2xlcjwvQXR0cmlidXRlVmFsdWU%2BDQogICAgICA8L0F0dHJpYnV0ZT4NCiAgICAgIDxBdHRyaWJ1dGUgTmFtZT0iZGs6Z292OnNhbWw6YXR0cmlidXRlOkFzc3VyYW5jZUxldmVsIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPEF0dHJpYnV0ZVZhbHVlPjM8L0F0dHJpYnV0ZVZhbHVlPg0KICAgICAgPC9BdHRyaWJ1dGU%2BDQogICAgPC9BdHRyaWJ1dGVTdGF0ZW1lbnQ%2BDQogIDwvQXNzZXJ0aW9uPg0KPC9xMTpSZXNwb25zZT4%3D' \
  --compressed
  
response headers:
status code : 302

curl 'https://sp.anysoft.dk/' \
  -H 'authority: sp.anysoft.dk' \
  -H 'cache-control: max-age=0' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9' \
  -H 'sec-fetch-site: same-site' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-dest: document' \
  -H 'referer: https://idp.anysoft.dk:20001/SignonForm.aspx?SAMLRequest=lZJfa8IwFMXfB%2fsOIe82SVuthlaR%2bSJsMHTsYW%2bxSWdYvdHeVNy3X%2bqfTQYT9pqTc87vXm4%2bOWxqsjcNWgcFFRGnk%2fH9Xb4Tctr6NSzMrjXoyXxWUKuzbJD2k1KLUWxSnfKhHqh0IBK10pqvTEXJ6yUpDklkjtiaOaBX4MMTj3mPZz0xeom57CcyzqJhykciyd4omYUaC8of3WvvtygZs3obKfhEV%2flIf8iYcy7Y0r6Dg0jh%2btBVPCtEuzcFrVSNhpIwEKDciYK2DUin0KIEtTEofSmX06dHGdjktnHela6mYVpC8iNpc%2fLeNoY203SUdHyhRLWpe3hNmrNT4Cn8wYG2nQX%2fWdC5g3%2faamugNIuwosaWnXaWrsSbNN%2bfzonsr8ic%2fcB2d8B%2bHcL4Cw%3d%3d&SigAlg=http%3a%2f%2fwww.w3.org%2f2001%2f04%2fxmldsig-more%23rsa-sha512&Signature=QTvU7noJJ%2bSXMo5fnaoWJoa5prFG%2bzXgHhAz7h6YW3WJ1XmQWKgdYSVA1l9MdFc6thhQjcdqx5jAwYU6wjUF6OC8b%2bE0JKuU9DCR4%2ft9CMl8z7GP1VB6Rzprv6BX98AHS5LtK2HygF4ccqzkxojZA9%2bgvh6l1wHfnsmumyVsXVJ8G1YYrQZ7%2b69uAq%2fe%2bGaroFgjrOjkJGUwJObwLnvcsytQlFNZro7tRoMzVl7UGOuOGSI2jhJTjLUZfbL0Lirog3QH%2bjvh%2fT7DnPwPoGxxo7VyaQL8BAx7jmYx3ucJCJGNiECO9FTTWwvWNyzmznhu7JyGm5eJIhaZlVJcOj5unQ%3d%3d' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H 'cookie: oiosamlSession=958c1f80-b0bc-44da-9e8c-bf4aa580f3ac; MySP01=59E1617A8088777F4C0FF1D6C5F7968549DE079C149FFE20086905DBB0DD1D73E30806DED15712CC11E05DD4AA38AFF196AB8F6DF8BF1DC3DE34989213ABE1C751FD0B635C0DF32169E9EF0B7212DA33FAD88667148A376B5D13EE8AABA68EADB19E549668CBEA219479D4741FBE7CBF026D9CC3A8C85A1DCCA63E28406D19394B06495499A49EFC17CE64A27529FAE5E5CF1F94C71121D7944DC500D858E843' \
  --compressed
  
Service Provider Applikationen vises, og status bruger er nu logget på.  
